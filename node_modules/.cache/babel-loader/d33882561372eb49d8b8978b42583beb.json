{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\usuario\\\\Desktop\\\\Server Elsa\\\\PW serverElsa\\\\React\\\\PandaCraftWeb-master\\\\src\\\\components\\\\Rating.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { Link } from \"react-router-dom\";\nimport './css/profile.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst datos = document.getElementById('datos');\nexport default function Rating(props) {\n  _s();\n\n  var _props$user;\n\n  const html = async () => {\n    let data = '';\n    await fetch('http://localhost:3001/api/staff/getAll').then(res => res.json()).then(res => {\n      if (res.length === 0) {\n        datos.innerHTML = '<span style=\"color: red\">No hay datos para mostrar</span>';\n        return;\n      }\n\n      for (let ob of res) {\n        for (let k in ob) {\n          if (k === 'pass') continue;\n          data += k + ': ';\n\n          if (k === 'rating') {\n            data += '{';\n\n            for (let j in ob[k]) {\n              if (j === 'rated') {\n                data += j + ': ' + Boolean(k[j]) + ', ';\n                continue;\n              }\n\n              data += j + ': ' + k[j] + ', ';\n            }\n\n            data += '}<br/>';\n            continue;\n          }\n\n          data += ob[k] + '<br/>';\n        }\n      }\n\n      datos.innerHTML = data;\n    }).catch(err => {\n      datos.innerHTML = `<span style=\"color: red\">${err.message}</span>`;\n    });\n  };\n  /*const rate = async () => {\n      const result = await fetch('http://localhost:3001/api/user/update/' + user.id)\n      .then(res => res.json())\n      .then(res => {\n       })\n  }*/\n\n\n  useEffect(() => {\n    const interval = setInterval(html, 10 * 1000);\n    return () => clearInterval(interval);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"subcard grid w-100-p\",\n    children: ((_props$user = props.user) === null || _props$user === void 0 ? void 0 : _props$user.userPermision) === 4 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col w-100-p\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"datos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"staff\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 25\n          }, this), \"A\\xF1adir staff\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"staff/account\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 25\n          }, this), \"A\\xF1adir usuario staff\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this) : ''\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Rating, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = Rating;\n\nvar _c;\n\n$RefreshReg$(_c, \"Rating\");","map":{"version":3,"names":["React","useEffect","Link","datos","document","getElementById","Rating","props","html","data","fetch","then","res","json","length","innerHTML","ob","k","j","Boolean","catch","err","message","interval","setInterval","clearInterval","user","userPermision"],"sources":["C:/Users/usuario/Desktop/Server Elsa/PW serverElsa/React/PandaCraftWeb-master/src/components/Rating.jsx"],"sourcesContent":["import React, { useEffect } from 'react'\nimport { Link } from \"react-router-dom\";\nimport './css/profile.scss'\n\nconst datos = document.getElementById('datos')\nexport default function Rating(props){\n\n    const html = async () => {\n        let data = '';\n        await fetch('http://localhost:3001/api/staff/getAll')\n        .then(res => res.json())\n        .then(res => {\n            if(res.length === 0) {\n                datos.innerHTML ='<span style=\"color: red\">No hay datos para mostrar</span>'\n                return\n            }\n            for(let ob of res){\n                for(let k in ob){\n                    if(k === 'pass') continue\n                    data += k + ': '\n                    if(k === 'rating'){\n                        data +='{'\n                        for(let j in ob[k]){\n                            if(j === 'rated'){\n                                data += j + ': ' + Boolean(k[j]) + ', '\n                                continue\n                            }\n                            data += j + ': ' + k[j] + ', '\n                        }\n                        data+='}<br/>'\n                        continue\n                    }\n                    data += ob[k] + '<br/>'\n                }\n            }\n            datos.innerHTML = data\n        }).catch(err => {\n            datos.innerHTML =`<span style=\"color: red\">${err.message}</span>`\n        })\n    }\n\n    /*const rate = async () => {\n        const result = await fetch('http://localhost:3001/api/user/update/' + user.id)\n        .then(res => res.json())\n        .then(res => {\n\n        })\n    }*/\n\n    useEffect(() => {\n        const interval = setInterval(html, 10*1000)\n        return () => clearInterval(interval);\n    }, []);\n\n    \n\n    return(\n        <div className='subcard grid w-100-p'>\n            {props.user?.userPermision === 4 ? \n            <div className='col w-100-p'>\n                <div className='row'>\n                    <div id=\"datos\"></div>\n                    <Link to=\"staff\">\n                        <span></span>\n                        <span></span>\n                        <span></span>\n                        <span></span>\n                        Añadir staff\n                    </Link> \n                    <Link to=\"staff/account\">\n                        <span></span>\n                        <span></span>\n                        <span></span>\n                        <span></span>\n                        Añadir usuario staff\n                    </Link> \n                </div>\n            </div> : ''}\n        </div>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}